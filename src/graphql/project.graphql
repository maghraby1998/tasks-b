type Query {
  project(id: ID!): Project
  projects: [Project]
}

type Mutation {
  upsertProject(input: UpsertProjectInput): Project
  updateProject(input: UpdateProjectInput): Project
  addUserToProject(input: AddUserToProjectInput): Project
}

type Project {
  id: Int!
  name: String!
  created_at: String!
  stages: [Stage]
  users: [User]
  tasks: [Task]
}

type Stage {
  id: Int!
  name: String!
  order: Int!
  project: Project
  tasks: [Task]
}

input UpsertProjectInput {
  name: String
  stages: [CreateStageInput]
}

input UpdateProjectInput {
  id: Int
  name: String
  stages: [UpdateStageInput]
}

input CreateStageInput {
  name: String!
  order: Int!
}

input UpdateStageInput {
  id: Int
  name: String!
  order: Int!
}

input AddUserToProjectInput {
  userId: Int!
  projectId: Int!
}
